webpackJsonp([8],{"2UfB":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e("NhvH"),n={props:{urls:{type:Array,default:[]}},data:function(){return{cropperVisible:!1,option:{img:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:800,autoCropHeight:800,fixedBox:!1,fixed:!0,fixedNumber:[1,1],full:!1,canMoveBox:!0,original:!0,centerBox:!1,infoTrue:!0},loading:!1}},methods:{upload:function(t){for(var o=this,e=t.target.files,n=new FormData,r=0;r<e.length;r++)n.append("image[]",e[r]);Object(i.e)(n).then(function(t){if(t.data.length>0){var e=[];t.data.map(function(t){e.push(t.url)}),o.urls=o.urls.concat(e),o.$emit("transferUrls",o.urls)}})},finish:function(){var t=this;this.$refs.cropper.getCropBlob(function(o){console.log(o.size,t.fileinfo.size)})}}},r={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"upload-img"},[t.urls.length>0?e("div",{staticClass:"img-list flex-row"},t._l(t.urls,function(o,i){return e("img",{key:i,staticClass:"img",attrs:{src:o,fit:t.contain}})}),0):t._e(),t._v(" "),e("input",{attrs:{type:"file",multiple:""},on:{change:t.upload}}),t._v(" "),e("el-dialog",{attrs:{title:"图片剪裁",visible:t.cropperVisible,width:"1040px","append-to-body":""},on:{"update:visible":function(o){t.cropperVisible=o}}},[e("div",{staticClass:"cropper-content"},[e("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[e("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.size,outputType:t.option.outputType,info:!0,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber,centerBox:t.option.centerBox,infoTrue:t.option.infoTrue,fixedBox:t.option.fixedBox},on:{realTime:t.realTime}})],1)]),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(o){t.cropperVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary",loading:t.loading},on:{click:t.finish}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var a=e("VU/8")(n,r,!1,function(t){e("pYU5")},"data-v-59757fc4",null);o.default=a.exports},pYU5:function(t,o){}});
//# sourceMappingURL=8.bfb64df356e11a45b663.js.map