webpackJsonp([10],{"0kmZ":function(t,e){},"2UfB":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("NhvH"),n={props:{urls:{type:Array,default:[]}},data:function(){return{cropperVisible:!1,option:{img:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:800,autoCropHeight:800,fixedBox:!1,fixed:!0,fixedNumber:[1,1],full:!1,canMoveBox:!0,original:!0,centerBox:!1,infoTrue:!0},loading:!1,files:null}},methods:{delteImg:function(t){var e={path:this.urls[t].split("uploads/")[1]};this.urls.splice(t,1),Object(o.b)(e).then(function(t){})},upload:function(t){for(var e=this,i=t.target.files,n=new FormData,a=0;a<i.length;a++)n.append("image[]",i[a]);Object(o.g)(n).then(function(t){if(t.data.length>0){var i=[];t.data.map(function(t){i.push(t.url)}),e.urls=e.urls.concat(i),e.$emit("transferUrls",e.urls)}})},finish:function(){var t=this;this.$refs.cropper.getCropBlob(function(e){console.log(e,t.fileinfo),e.lastModified=t.fileinfo.lastModified,e.lastModifiedDate=t.fileinfo.lastModifiedDate,e.name=t.fileinfo.name,e.webkitRelativePath=t.fileinfo.webkitRelativePath;for(var i=new FormData,n=0;n<t.files.length;n++)0==n?i.append("image[]",e):i.append("image[]",t.files[n]);Object(o.g)(i).then(function(e){if(e.data.length>0){var i=[];e.data.map(function(t){i.push(t.url)}),t.urls=t.urls.concat(i),t.$emit("transferUrls",t.urls)}})})}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-img"},[t.urls.length>0?i("div",{staticClass:"img-list flex-row"},t._l(t.urls,function(e,o){return i("div",{key:o,staticClass:"img-item"},[i("el-image",{staticClass:"img",attrs:{src:e,fit:"contain"}}),t._v(" "),i("i",{staticClass:"el-icon-close icon-delete",on:{click:function(e){t.delteImg(o)}}})],1)}),0):t._e(),t._v(" "),i("input",{attrs:{type:"file",multiple:""},on:{change:t.upload}}),t._v(" "),i("el-dialog",{attrs:{title:"图片剪裁",visible:t.cropperVisible,width:"1040px","append-to-body":""},on:{"update:visible":function(e){t.cropperVisible=e}}},[i("div",{staticClass:"cropper-content"},[i("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[i("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.size,outputType:t.option.outputType,info:!0,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber,centerBox:t.option.centerBox,infoTrue:t.option.infoTrue,fixedBox:t.option.fixedBox},on:{realTime:t.realTime}})],1)]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.cropperVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary",loading:t.loading},on:{click:t.finish}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,a,!1,function(t){i("0kmZ")},"data-v-5ee71ad3",null);e.default=l.exports}});
//# sourceMappingURL=10.d219e78f071ff5f8a5ee.js.map